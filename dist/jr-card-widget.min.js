/*! jsonresume-card - v1.0.0 - 2015-01-13
* https://github.com/mudassir0909/jsonresume-card
* Copyright (c) 2015 ; Licensed  */
var jr_tmpl=function(){function a(){var a={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},b=/&(?!#?w+;)|<|>|"|'|\//g;return function(){return this?this.replace(b,function(b){return a[b]||b}):this}}String.prototype.encodeHTML=a();var b={};return b["jr-card-template"]=function(a){var b='<div class="jr-card-theme-default"><div class="jr-card"><div class="jr-header"><div class="jr-cover"><div class="jr-profile-picture-container"><img src="'+a.profile_image+'"/></div><h2 class="jr-display-name">'+a.display_name+'</h2></div><div class="jr-experience-info"><p>'+a.designation+'</p><p><small><i class="fa fa-location-arrow"></i>'+a.location+'</small></p><p><small><i class="fa fa-envelope"></i>'+a.email+'</small></p></div></div><div class="jr-content"><div class="jr-stats">';a.stats.total_experience>0&&(b+='<div class="jr-stat"><span><span class="jr-numbers">'+a.stats.total_experience+'+ years</span><br/><small><i class="fa fa-building"></i>Experience</small></span></div>'),a.stats.total_awards>0&&(b+='<div class="jr-stat"><span><span class="jr-numbers">'+a.stats.total_awards+'</span><br/><small><i class="fa fa-trophy"></i>Awards</small></span></div>'),a.stats.total_publications>0&&(b+='<div class="jr-stat"><span><span class="jr-numbers">'+a.stats.total_publications+'</span><br/><small><i class="fa fa-book"></i>Publications</small></span></div>'),a.stats.total_skills>0&&(b+='<div class="jr-stat"><span><span class="jr-numbers">'+a.stats.total_skills+'</span><br/><small><i class="fa fa-code"></i>Skills</small></span></div>'),a.stats.total_references>0&&(b+='<div class="jr-stat"><span><span class="jr-numbers">'+a.stats.total_references+'</span><br/><small><i class="fa fa-thumbs-up"></i>References</small></span></div>'),b+='</div><div class="jr-about">'+a.about+'</div></div><div class="jr-footer"><div class="jr-social-links">';var c=a.social_links;if(c)for(var d,e=-1,f=c.length-1;f>e;)d=c[e+=1],b+='<div class="jr-social-link"><a href="'+d.url+'" target="_blank"><i class="fa fa-'+d.network+'"></i></a></div>';return b+="</div></div></div></div>"},b}();!function(){window.getGravatar=function(a,b){var c=function(a){function b(a,b){return a<<b|a>>>32-b}function c(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return a&c|b&~c}function f(a,b,c){return a^b^c}function g(a,b,c){return b^(a|~c)}function h(a,e,f,g,h,i,j){return a=c(a,c(c(d(e,f,g),h),j)),c(b(a,i),e)}function i(a,d,f,g,h,i,j){return a=c(a,c(c(e(d,f,g),h),j)),c(b(a,i),d)}function j(a,d,e,g,h,i,j){return a=c(a,c(c(f(d,e,g),h),j)),c(b(a,i),d)}function k(a,d,e,f,h,i,j){return a=c(a,c(c(g(d,e,f),h),j)),c(b(a,i),d)}function l(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=i%4*8,g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g}function m(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=a>>>8*c&255,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d}function n(a){a=a.replace(/rn/g,"n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b}var o,p,q,r,s,t,u,v,w,x=Array(),y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(a=n(a),x=l(a),t=1732584193,u=4023233417,v=2562383102,w=271733878,o=0;o<x.length;o+=16)p=t,q=u,r=v,s=w,t=h(t,u,v,w,x[o+0],y,3614090360),w=h(w,t,u,v,x[o+1],z,3905402710),v=h(v,w,t,u,x[o+2],A,606105819),u=h(u,v,w,t,x[o+3],B,3250441966),t=h(t,u,v,w,x[o+4],y,4118548399),w=h(w,t,u,v,x[o+5],z,1200080426),v=h(v,w,t,u,x[o+6],A,2821735955),u=h(u,v,w,t,x[o+7],B,4249261313),t=h(t,u,v,w,x[o+8],y,1770035416),w=h(w,t,u,v,x[o+9],z,2336552879),v=h(v,w,t,u,x[o+10],A,4294925233),u=h(u,v,w,t,x[o+11],B,2304563134),t=h(t,u,v,w,x[o+12],y,1804603682),w=h(w,t,u,v,x[o+13],z,4254626195),v=h(v,w,t,u,x[o+14],A,2792965006),u=h(u,v,w,t,x[o+15],B,1236535329),t=i(t,u,v,w,x[o+1],C,4129170786),w=i(w,t,u,v,x[o+6],D,3225465664),v=i(v,w,t,u,x[o+11],E,643717713),u=i(u,v,w,t,x[o+0],F,3921069994),t=i(t,u,v,w,x[o+5],C,3593408605),w=i(w,t,u,v,x[o+10],D,38016083),v=i(v,w,t,u,x[o+15],E,3634488961),u=i(u,v,w,t,x[o+4],F,3889429448),t=i(t,u,v,w,x[o+9],C,568446438),w=i(w,t,u,v,x[o+14],D,3275163606),v=i(v,w,t,u,x[o+3],E,4107603335),u=i(u,v,w,t,x[o+8],F,1163531501),t=i(t,u,v,w,x[o+13],C,2850285829),w=i(w,t,u,v,x[o+2],D,4243563512),v=i(v,w,t,u,x[o+7],E,1735328473),u=i(u,v,w,t,x[o+12],F,2368359562),t=j(t,u,v,w,x[o+5],G,4294588738),w=j(w,t,u,v,x[o+8],H,2272392833),v=j(v,w,t,u,x[o+11],I,1839030562),u=j(u,v,w,t,x[o+14],J,4259657740),t=j(t,u,v,w,x[o+1],G,2763975236),w=j(w,t,u,v,x[o+4],H,1272893353),v=j(v,w,t,u,x[o+7],I,4139469664),u=j(u,v,w,t,x[o+10],J,3200236656),t=j(t,u,v,w,x[o+13],G,681279174),w=j(w,t,u,v,x[o+0],H,3936430074),v=j(v,w,t,u,x[o+3],I,3572445317),u=j(u,v,w,t,x[o+6],J,76029189),t=j(t,u,v,w,x[o+9],G,3654602809),w=j(w,t,u,v,x[o+12],H,3873151461),v=j(v,w,t,u,x[o+15],I,530742520),u=j(u,v,w,t,x[o+2],J,3299628645),t=k(t,u,v,w,x[o+0],K,4096336452),w=k(w,t,u,v,x[o+7],L,1126891415),v=k(v,w,t,u,x[o+14],M,2878612391),u=k(u,v,w,t,x[o+5],N,4237533241),t=k(t,u,v,w,x[o+12],K,1700485571),w=k(w,t,u,v,x[o+3],L,2399980690),v=k(v,w,t,u,x[o+10],M,4293915773),u=k(u,v,w,t,x[o+1],N,2240044497),t=k(t,u,v,w,x[o+8],K,1873313359),w=k(w,t,u,v,x[o+15],L,4264355552),v=k(v,w,t,u,x[o+6],M,2734768916),u=k(u,v,w,t,x[o+13],N,1309151649),t=k(t,u,v,w,x[o+4],K,4149444226),w=k(w,t,u,v,x[o+11],L,3174756917),v=k(v,w,t,u,x[o+2],M,718787259),u=k(u,v,w,t,x[o+9],N,3951481745),t=c(t,p),u=c(u,q),v=c(v,r),w=c(w,s);var O=m(t)+m(u)+m(v)+m(w);return O.toLowerCase()},b=b||80;return"http://www.gravatar.com/avatar/"+c(a)+".jpg?s="+b}}(),function(a){function b(a){var b=new Date(a.startDate),c=a.endDate?new Date(a.endDate):new Date;return{start_date:b.getTime(),end_date:c.getTime()}}function c(a){if(a.length<=1)return a;var b,d,e,f,g=!1,h=[];for(d=1;d<a.length;d++)e=a[d],f=a[d-1],b=e.start_date>=f.start_date&&e.start_date<f.end_date,b?(g=!0,h.push({start_date:f.start_date,end_date:Math.max(e.end_date,f.end_date)})):(1===d&&h.push(f),h.push(e));return g?c(h):h}function d(a){var d,e,f,g=a.map(b);return g=g.sort(function(a,b){return a.start_date>b.start_date}),g=c(g),d=g.reduce(function(a,b){var c=b.end_date-b.start_date;return a+c},0),e=d/30879e6,f=e-parseInt(e,10),parseInt(e,10)+(f>=.5?.5:0)}function e(a){return a.reduce(function(a,b){return a+b.keywords.length},0)}function f(a){return{total_experience:d(a.work||[]),total_awards:(a.awards||[]).length,total_publications:(a.publications||[]).length,total_skills:e(a.skills||[]),total_references:(a.references||[]).length}}function g(a,b){var c={github:"github.com","stack-overflow":"stackoverflow.com/users",codepen:"codepen.io",twitter:"twitter.com",facebook:"facebook.com",dribble:"dribbble.com",dribbble:"dribbble.com",angellist:"angel.co"};return"//"+c[a]+"/"+b}function h(a){var b=["linkedin","github","stack-overflow","codepen","twitter","facebook","dribbble","angellist"],c=[];return a.forEach(function(a){var d=a.network.toLowerCase();b.indexOf(d)>0&&(a.url||a.username)&&c.push({network:d,url:a.url||g(d,a.username)})}),c}function i(b){var c,d,e="jr-card-theme-"+(l.theme||"default"),g=b.basics,i=["city","region","countryCode"],j=[];i.forEach(function(a){g.location[a]&&j.push(g.location[a])}),k.className+=e,k.innerHTML=window.jr_tmpl["jr-card-template"]({profile_url:q,profile_image:g.picture,display_name:g.name,designation:g.label,location:j.join(", "),email:g.email,stats:f(b),about:g.summary,social_links:h(b.basics.profiles||[])}),b.basics.picture||(c=a.getElementsByClassName("jr-profile-picture-container"),d=c[0].getElementsByTagName("img")[0],d.src=window.getGravatar(g.email,100))}function j(b){var c,d,e="link",f=a.createElement(e);f.rel="stylesheet",f.href=b,f.type="text/css",c=a.head.getElementsByTagName(e),d=c[c.length-1],d?d.parentNode.insertBefore(f,d.nextSibling):a.head.insertBefore(f,null)}var k=a.getElementById("jr-card-widget"),l=k.dataset,m=new XMLHttpRequest,n="//registry.jsonresume.org/"+l.username+".json",o="dist/jr-card-widget.css",p="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.css",q="//registry.jsonresume.org/"+l.username;l.has_fontawesome||j(p),"custom"!==l.theme&&j(o),m.onreadystatechange=function(){4===m.readyState&&200===m.status&&i(JSON.parse(m.responseText))},m.open("GET",n,!0),m.send()}(document);